@model DealDouble.ViewModels.AuctionsListingViewModel

<table class="table table-hover">
    <thead>
        <tr>
            <th>
                Title
            </th>
            <th>
                Description
            </th>
            <th>
                ActualAmount
            </th>
            <th>
                Starting Time
            </th>
            <th>
                Ending Time
            </th>
            <th>
                Actions
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var auction in Model.Auctions)
        {
            <tr>
                <td>
                    <input type="hidden" name="ID" value="@auction.ID" />
                    @auction.Title
                </td>
                <td>
                    @auction.Description
                </td>
                <td>
                    @auction.ActualAmount
                </td>
                <td>
                    @auction.StartingTime
                </td>
                <td>
                    @auction.EndingTime
                </td>
                <td>

                    <button class="editButton btn btn-primary" data-id="@auction.ID" data-toggle="modal" data-target="#formModal">Edit</button>
                    <button class="deleteButton btn btn-danger" data-id="@auction.ID" data-toggle="modal" data-target="#formModal">Delete</button>
                </td>
            </tr>

        }
    </tbody>
</table>
<script>
    $(".editButton").click(function () {
        $.ajax({
            url: "Edit/",
            method: "get",
            data: {
                ID: $(this).attr("data-id")
            }

        }).done(function (response) {
            $("#contentArea").html(response);
            $('#formModal').modal('toggle');
        });
    });

    $(".deleteButton").click(function () {

        var result = confirm("Are you sure you want to delete this Auction?");

        if (result == true) {

            $.ajax({
                url: "Delete/",
                method: "post",
                data: {
                    ID: $(this).attr("data-id")
                }
            })
                .done(function (response) {

                    $("#listingArea").html(response);
                });
        }
    });

</script>





